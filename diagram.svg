<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600">
  <!-- Background -->
  <rect width="800" height="600" fill="#f8f9fa" rx="10" ry="10"/>
  
  <!-- Title -->
  <text x="400" y="40" font-family="Arial" font-size="24" text-anchor="middle" font-weight="bold" fill="#333">Smart City Traffic Management Architecture</text>
  
  <!-- Layer Labels -->
  <text x="30" y="90" font-family="Arial" font-size="18" font-weight="bold" fill="#555">Edge Layer</text>
  <text x="30" y="220" font-family="Arial" font-size="18" font-weight="bold" fill="#555">Fog Layer</text>
  <text x="30" y="350" font-family="Arial" font-size="18" font-weight="bold" fill="#555">Cloud Layer</text>
  <text x="30" y="480" font-family="Arial" font-size="18" font-weight="bold" fill="#555">Application Layer</text>
  
  <!-- Edge Layer -->
  <rect x="160" y="70" width="600" height="100" fill="#d1e7dd" rx="5" ry="5" stroke="#198754" stroke-width="2"/>
  
  <!-- Traffic Sensors Group -->
  <rect x="180" y="85" width="130" height="70" fill="#ffffff" rx="5" ry="5" stroke="#198754" stroke-width="1"/>
  <text x="245" y="105" font-family="Arial" font-size="12" text-anchor="middle" font-weight="bold" fill="#198754">Traffic Sensors</text>
  <text x="245" y="125" font-family="Arial" font-size="10" text-anchor="middle" fill="#555">• Cameras</text>
  <text x="245" y="140" font-family="Arial" font-size="10" text-anchor="middle" fill="#555">• Road Sensors</text>
  
  <!-- Environmental Sensors Group -->
  <rect x="330" y="85" width="130" height="70" fill="#ffffff" rx="5" ry="5" stroke="#198754" stroke-width="1"/>
  <text x="395" y="105" font-family="Arial" font-size="12" text-anchor="middle" font-weight="bold" fill="#198754">Environmental</text>
  <text x="395" y="125" font-family="Arial" font-size="10" text-anchor="middle" fill="#555">• Weather Stations</text>
  <text x="395" y="140" font-family="Arial" font-size="10" text-anchor="middle" fill="#555">• Air Quality</text>
  
  <!-- Traffic Controllers Group -->
  <rect x="480" y="85" width="130" height="70" fill="#ffffff" rx="5" ry="5" stroke="#198754" stroke-width="1"/>
  <text x="545" y="105" font-family="Arial" font-size="12" text-anchor="middle" font-weight="bold" fill="#198754">Controllers</text>
  <text x="545" y="125" font-family="Arial" font-size="10" text-anchor="middle" fill="#555">• Traffic Signals</text>
  <text x="545" y="140" font-family="Arial" font-size="10" text-anchor="middle" fill="#555">• Variable Signs</text>
  
  <!-- Vehicle Data Group -->
  <rect x="630" y="85" width="110" height="70" fill="#ffffff" rx="5" ry="5" stroke="#198754" stroke-width="1"/>
  <text x="685" y="105" font-family="Arial" font-size="12" text-anchor="middle" font-weight="bold" fill="#198754">Vehicle Data</text>
  <text x="685" y="125" font-family="Arial" font-size="10" text-anchor="middle" fill="#555">• GPS Data</text>
  <text x="685" y="140" font-family="Arial" font-size="10" text-anchor="middle" fill="#555">• Emergency GPS</text>
  
  <!-- Fog Layer -->
  <rect x="160" y="200" width="600" height="100" fill="#cfe2ff" rx="5" ry="5" stroke="#0d6efd" stroke-width="2"/>
  
  <!-- District Processing Nodes -->
  <rect x="180" y="215" width="280" height="70" fill="#ffffff" rx="5" ry="5" stroke="#0d6efd" stroke-width="1"/>
  <text x="320" y="235" font-family="Arial" font-size="12" text-anchor="middle" font-weight="bold" fill="#0d6efd">District Processing Nodes</text>
  <text x="320" y="255" font-family="Arial" font-size="10" text-anchor="middle" fill="#555">• Edge Analytics</text>
  <text x="320" y="270" font-family="Arial" font-size="10" text-anchor="middle" fill="#555">• Local Decision Making</text>
  
  <!-- Regional Control Centers -->
  <rect x="480" y="215" width="260" height="70" fill="#ffffff" rx="5" ry="5" stroke="#0d6efd" stroke-width="1"/>
  <text x="610" y="235" font-family="Arial" font-size="12" text-anchor="middle" font-weight="bold" fill="#0d6efd">Regional Control Centers</text>
  <text x="610" y="255" font-family="Arial" font-size="10" text-anchor="middle" fill="#555">• Cross-district Coordination</text>
  <text x="610" y="270" font-family="Arial" font-size="10" text-anchor="middle" fill="#555">• Emergency Response Routing</text>
  
  <!-- Cloud Layer -->
  <rect x="160" y="330" width="600" height="100" fill="#f8d7da" rx="5" ry="5" stroke="#dc3545" stroke-width="2"/>
  
  <!-- Data Streaming & Processing -->
  <rect x="180" y="345" width="180" height="70" fill="#ffffff" rx="5" ry="5" stroke="#dc3545" stroke-width="1"/>
  <text x="270" y="365" font-family="Arial" font-size="12" text-anchor="middle" font-weight="bold" fill="#dc3545">Data Processing</text>
  <text x="270" y="385" font-family="Arial" font-size="10" text-anchor="middle" fill="#555">• Stream Processing</text>
  <text x="270" y="400" font-family="Arial" font-size="10" text-anchor="middle" fill="#555">• Machine Learning</text>
  
  <!-- Data Storage -->
  <rect x="380" y="345" width="160" height="70" fill="#ffffff" rx="5" ry="5" stroke="#dc3545" stroke-width="1"/>
  <text x="460" y="365" font-family="Arial" font-size="12" text-anchor="middle" font-weight="bold" fill="#dc3545">Data Storage</text>
  <text x="460" y="385" font-family="Arial" font-size="10" text-anchor="middle" fill="#555">• Time-series DB</text>
  <text x="460" y="400" font-family="Arial" font-size="10" text-anchor="middle" fill="#555">• Data Warehouse</text>
  
  <!-- Central Management -->
  <rect x="560" y="345" width="180" height="70" fill="#ffffff" rx="5" ry="5" stroke="#dc3545" stroke-width="1"/>
  <text x="650" y="365" font-family="Arial" font-size="12" text-anchor="middle" font-weight="bold" fill="#dc3545">Central Management</text>
  <text x="650" y="385" font-family="Arial" font-size="10" text-anchor="middle" fill="#555">• Global Optimization</text>
  <text x="650" y="400" font-family="Arial" font-size="10" text-anchor="middle" fill="#555">• Predictive Analytics</text>
  
  <!-- Application Layer -->
  <rect x="160" y="460" width="600" height="100" fill="#fff3cd" rx="5" ry="5" stroke="#ffc107" stroke-width="2"/>
  
  <!-- Traffic Management -->
  <rect x="180" y="475" width="135" height="70" fill="#ffffff" rx="5" ry="5" stroke="#ffc107" stroke-width="1"/>
  <text x="247" y="495" font-family="Arial" font-size="12" text-anchor="middle" font-weight="bold" fill="#ffc107">Traffic Control</text>
  <text x="247" y="515" font-family="Arial" font-size="10" text-anchor="middle" fill="#555">• Signal Optimization</text>
  <text x="247" y="530" font-family="Arial" font-size="10" text-anchor="middle" fill="#555">• Congestion Mgmt</text>
  
  <!-- Emergency Services -->
  <rect x="335" y="475" width="135" height="70" fill="#ffffff" rx="5" ry="5" stroke="#ffc107" stroke-width="1"/>
  <text x="402" y="495" font-family="Arial" font-size="12" text-anchor="middle" font-weight="bold" fill="#ffc107">Emergency</text>
  <text x="402" y="515" font-family="Arial" font-size="10" text-anchor="middle" fill="#555">• Incident Response</text>
  <text x="402" y="530" font-family="Arial" font-size="10" text-anchor="middle" fill="#555">• Route Prioritization</text>
  
  <!-- Environmental Impact -->
  <rect x="490" y="475" width="135" height="70" fill="#ffffff" rx="5" ry="5" stroke="#ffc107" stroke-width="1"/>
  <text x="557" y="495" font-family="Arial" font-size="12" text-anchor="middle" font-weight="bold" fill="#ffc107">Environmental</text>
  <text x="557" y="515" font-family="Arial" font-size="10" text-anchor="middle" fill="#555">• Emissions Tracking</text>
  <text x="557" y="530" font-family="Arial" font-size="10" text-anchor="middle" fill="#555">• Carbon Analysis</text>
  
  <!-- Public Interface -->
  <rect x="645" y="475" width="95" height="70" fill="#ffffff" rx="5" ry="5" stroke="#ffc107" stroke-width="1"/>
  <text x="692" y="495" font-family="Arial" font-size="12" text-anchor="middle" font-weight="bold" fill="#ffc107">Public Apps</text>
  <text x="692" y="515" font-family="Arial" font-size="10" text-anchor="middle" fill="#555">• Mobile Apps</text>
  <text x="692" y="530" font-family="Arial" font-size="10" text-anchor="middle" fill="#555">• Notifications</text>
  
  <!-- Data Flow Arrows -->
  <!-- Edge to Fog -->
  <path d="M 460 170 L 460 200" fill="none" stroke="#666" stroke-width="2" stroke-dasharray="5,3"/>
  <polygon points="460,205 456,198 460,200 464,198" fill="#666"/>
  
  <!-- Fog to Cloud -->
  <path d="M 460 300 L 460 330" fill="none" stroke="#666" stroke-width="2" stroke-dasharray="5,3"/>
  <polygon points="460,335 456,328 460,330 464,328" fill="#666"/>
  
  <!-- Cloud to Application -->
  <path d="M 460 430 L 460 460" fill="none" stroke="#666" stroke-width="2" stroke-dasharray="5,3"/>
  <polygon points="460,465 456,458 460,460 464,458" fill="#666"/>
  
  <!-- Bidirectional Arrows -->
  <!-- Cloud to Fog -->
  <path d="M 400 330 L 400 300" fill="none" stroke="#666" stroke-width="2" stroke-dasharray="5,3"/>
  <polygon points="400,295 396,302 400,300 404,302" fill="#666"/>
  
  <!-- Fog to Edge -->
  <path d="M 400 200 L 400 170" fill="none" stroke="#666" stroke-width="2" stroke-dasharray="5,3"/>
  <polygon points="400,165 396,172 400,170 404,172" fill="#666"/>
  
  <!-- Legend -->
  <rect x="160" y="570" width="600" height="20" fill="none"/>
  <text x="460" y="585" font-family="Arial" font-size="12" text-anchor="middle" fill="#666">Data Flow: → Upward Data Collection   ← Downward Command and Control</text>
</svg>
